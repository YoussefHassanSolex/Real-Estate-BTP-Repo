<mvc:View
    controllerName="dboperations.controller.Masterplan"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:u="sap.ui.unified"
>
    <Page
        id="masterplanPage"
        title="Masterplan"
    >
        <headerContent>
            <VBox id="_IDGenVBox8">
                <u:FileUploader
                    id="fileUploader"
                    name="fileUploader"
                    uploadUrl=""
                    tooltip="Upload SVG file"
                    change="onFileChange"
                    typeMissmatch="onTypeMissmatch"
                    fileType="svg"
                    mimeType="image/svg+xml"
                    maximumFileSize="10"
                    uploadOnChange="false"
                    sendXHR="false"
                    useMultipart="false"
                    buttonText="Upload SVG Masterplan"
                    style="Emphasized"
                />
                <Text id="uploadStatus" text="Please upload an SVG file to view the masterplan" />
            </VBox>
        </headerContent>
        <content>
            <BusyIndicator
                id="pageBusyIndicator"
                visible="{view>/loading}"
                text="Loading units..."
            />
            <HBox id="_IDGenHBox_1" width="100%" height="100%" visible="{= !${view>/loading} }">
                <VBox id="_IDGenVBox7" width="20%" height="100%">
                    <Title id="_IDGenTitle3" text="Available Units" level="H3" />
                    <List
                        id="unitsList"
                        items="{view>/units}"
                        mode="None"
                        growing="true"
                        growingThreshold="20"
                        height="100%"
                    >
                        <items>
                            <CustomListItem id="_IDGenCustomListItem">
                                <HBox id="_IDGenHBox4" alignItems="Center" justifyContent="Start">
                                    <Avatar id="_IDGenAvatar"
                                        src=""
                                        displayShape="Circle"
                                        displaySize="M"
                                        backgroundColor="Accent1"
                                        press="onUnitPress"
                                    />
                                    <VBox id="_IDGenVBox10" class="sapUiSmallMarginBegin">
                                        <Text id="_IDGenText116" text="{view>unitId}" />
                                        <Text id="_IDGenText117" text="{view>bua} sqm" />
                                    </VBox>
                                </HBox>
                            </CustomListItem>
                        </items>
                    </List>
                </VBox>
                <VBox
                    id="svgContainer"
                    width="80%"
                    height="100%"
                    justifyContent="Center"
                    alignItems="Center"
                >
                    <VBox id="_IDGenVBox9"
                        width="100%"
                        height="100%"
                        renderType="Bare"
                        visible="{= ${view>/svgContent} !== '' }"
                    >
                        <core:HTML id="svgContent" content="{view>/svgContent}" />
                    </VBox>
                    <Text id="_IDGenText44"
                        text="No SVG file uploaded yet. Please upload an SVG file using the upload area above."
                        visible="{= ${view>/svgContent} === '' }"
                    />
                </VBox>
            </HBox>
        </content>
    </Page>
</mvc:View>
